# CamHeadTracker プロジェクト

## プロジェクト概要

Web カメラを使用して頭の動き（6DoF: X, Y, Z, Yaw, Pitch, Roll）をトラッキングし、姿勢データを opentrack に UDP で連携するための GUI アプリケーション。

## 一般的な指示

- 本プロジェクトはパッケージマネージャーの`uv`を使用する。
- コードは Python 3.13 との互換性が必要。最新の型ヒントを積極的に活用せよ。
- **破壊的変更を行う場合は、必ず事前に警告せよ。**
- `gh`コマンドを使用できる。ただし、**リモートリポジトリに変更を加える場合は、必ずユーザーに確認を求めよ。**
- **仕様が不明瞭な場合や曖昧な点がある場合は、推測に基づいて変更を行う前に、ユーザーに確認または説明を求めよ。**

## コーディングスタイル

- 既存のコーディングスタイルに従うこと。
- コミットする前に必ず`ruff`でリントおよびフォーマットを実行せよ。
  - `uv run ruff check --fix .`
  - `uv run ruff format .`

## テスト

現在、本プロジェクトには自動化されたテストスイートは無い。

もし新機能を追加する際には、`pytest`のようなテストフレームワークを使用して、対応するテストを追加することを検討せよ。

## 依存関係

- 絶対に必要な場合を除き、新しい外部依存関係の導入は避けよ。
- 新しい依存関係が必要な場合は、その理由を明記せよ。

## Issue 規約

Issue は以下の構成で作成せよ。

### タイトル

日本語で簡潔な文章

### 説明

問題点、原因、期待する動作、解決策等を記述する。

### ラベル

以下のうち適切なラベルを追加せよ。（複数可）

- build: ビルド関係
- ci: CI関係
- docs: ドキュメント関係
- feat: 新機能または機能リクエスト
- bug: バグ報告
- perf: 性能関係
- refactor: リファクタリング関係
- test: テスト関係

## コミットメッセージ規約

以下の構成に従うこと。また、過去のコミットメッセージも参考にせよ。

### 形式

```
<type>: <short summary>

[optional body]
```

### type

- build: ビルドシステムまたは外部依存関係の変更（uv, PyInstaller, FFmpeg ビルド等）
- ci: CI 設定の変更（GitHub Actions 等）
- docs: ドキュメントのみの変更
- feat: 新機能の追加
- fix: バグ修正
- perf: パフォーマンスを向上させる変更
- refactor: 機能追加もバグ修正も行わないコード変更
- test: テストの追加または既存テストの修正

### short summary

日本語または英語で変更内容を簡潔に記述し、最後にピリオドや句点を付けないこと。

### optional body

short summary で意味が伝わる場合は、本文は省略せよ。

## プルリクエスト規約

PR は以下の構成で作成せよ。

### ブランチ名

- Issue に関連する変更の場合: `issues/<issue number>-<type>-<summary>`（例: `issues/3-fix-coordinate-calculation`）
- それ以外の場合: `<type>/<summary>`（例: `fix/coordinate-calculation`）
- すべて小文字
- 40文字以内

### タイトル

コミットメッセージ規約に準拠

### 説明

以下の形式で簡潔に記述せよ。

```markdown
## 内容

### 変更理由

### 実装内容

### 影響範囲

### 検証内容

## 関連 Issue
```

- 最低限`内容`の項目のみ記述すれば良い。冗長さを排除し、不要な項目の記述は省略せよ。
- 関連 Issue でクローズ可能なことが明白な場合は、`close #1`のように記述せよ。

### ラベル

以下のうち適切なラベルを追加せよ。

- build
- ci
- docs
- feat
- fix
- perf
- refactor
- test
